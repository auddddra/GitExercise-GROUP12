{% extends "base.html" %}
{% block body %}
<div class="form-section">
  <h1>Tell Us Your Story</h1>

    <form method="POST" action="{{ url_for('create') }}" enctype="multipart/form-data" class="story-form">
        <label for="to_name">To:</label>
        <input type="text" id="to_name" name="to_name" required>

        <label for="location">Location:</label>
        <input type="text" id="location" name="location" required>

        <label for="message">Message:</label>
        <textarea id="message" name="message" rows="5" required></textarea>

        <input type="hidden" name="lat" id="lat" value="{{ pre_lat or '' }}">
        <input type="hidden" name="lng" id="lng" value="{{ pre_lng or '' }}">

        <label for="photos">Attach Photos (Optional, up to 6)</label>
        <input type="file" id="photos" name="photos" accept="image/*" multiple>

        <label for="video">Attach Video (Optional)</label>
        <input type="file" id="video" name="video" accept="video/*">

        <label for="from_name">From (Optional)</label>
        <input type="text" id="from_name" name="from_name">

        <button type="submit" class="btn-submit">ðŸ’Œ Submit Story</button>
    </form>
</div>

<script>
    if (document.getElementById('lat').value && document.getElementById('lng').value) {
        const lat = document.getElementById('lat').value;
        const lng = document.getElementById('lng').value;
        const el = document.createElement('p');
        el.innerHTML = `<small>Memory will be placed at: <strong>${lat}, ${lng}</strong></small>`;
        document.querySelector('.form-section').insertBefore(el, document.querySelector('.form-section').children[1]);
    }
</script>
{% endblock %}
